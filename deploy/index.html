<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AT BookMarklet</title>
    <link id='ico' rel='shortcut icon' href='AT.ico' />
    <style>
        .imgBookmarklet {
            width: 224px;
            height: 183px;
        }
        .imgDrag {
            position: absolute;
            margin-left: 10px;
            width: 200px;
            margin-top: -30px;
        }
    </style>
</head>
<body>

<p align="center">
    <br />
    <a href="javascript: (function(e){var t={reExec:!0,dependencies:[{name:&quot;notify&quot;,url:&quot;//cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.js&quot;,globals:[&quot;notify&quot;]},{name:&quot;Chart&quot;,url:&quot;//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.0/Chart.js&quot;,globals:[&quot;Chart&quot;]}],eval:'&quot;(function(){artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]=\'<div class=\\&quot;loading-container\\&quot;><div class=\\&quot;loader loader-top100\\&quot;></div></div><canvas class=\\&quot;graph-container\\&quot; />\'}).call(this),function(){artoo.templates[\\&quot;src\\templateslogin.tpl\\&quot;]=\'<div class=\\&quot;widget-login z-depth-5\\&quot;  id=\\&quot;widget-container-login\\&quot;><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.css\\&quot;; </style><nav class=\\&quot;widget-navbar grey darken-3\\&quot; id=\\&quot;login-logo\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a target=\\&quot;_blank\\&quot; href=\\&quot;https://apps.atinternet-solutions.com\\&quot; class=\\&quot;brand-logo\\&quot;><img class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws-dev.atinternet-solutions.com/Images/at_internet.png\\&quot;><span class=\\&quot;widget-logo-content grey-text text-lighten-1\\&quot;>AT Internet Bookmarklet</span></a><button type=\\&quot;button\\&quot; class=\\&quot;right btn-close btn-header\\&quot; title=\\&quot;close\\&quot; id=\\&quot;btn-close-login\\&quot;>x</button></div></nav><div class=\\&quot;row\\&quot;><form class=\\&quot;col s12\\&quot;><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s8 offset-s2\\&quot;><input id=\\&quot;email\\&quot; type=\\&quot;email\\&quot; class=\\&quot;validate\\&quot;><label class=\\&quot;active\\&quot; for=\\&quot;email\\&quot;>Email</label></div></div><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s8 offset-s2\\&quot;><input id=\\&quot;password\\&quot; type=\\&quot;password\\&quot; class=\\&quot;validate\\&quot;><label class=\\&quot;active\\&quot; for=\\&quot;password\\&quot;>Password</label></div></div><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s5 offset-s1 form-font\\&quot;><input type=\\&quot;checkbox\\&quot; id=\\&quot;chkKeepConnected\\&quot; /><label for=\\&quot;chkKeepConnected\\&quot;>keep connected</label></div><div class=\\&quot;input-field col s5 right-align form-font\\&quot;><a class=\\&quot;waves-effect waves-light btn\\&quot; id=\\&quot;btnLogin\\&quot;>Login</a></div></div><div class=\\&quot;row center-align\\&quot;><label id=\\&quot;loginMessage\\&quot; class=\\&quot;red-text\\&quot;></label></div></form></div></div>\'}.call(this),function(){artoo.templates[\\&quot;src\\templatesmain.tpl\\&quot;]=\'<div class=\\&quot;widget-main z-depth-5\\&quot; id=\\&quot;widget-container\\&quot;><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.css\\&quot;; </style><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css\\&quot;; </style><nav class=\\&quot;widget-navbar grey darken-3 minimized-content pointer\\&quot; id=\\&quot;minimized-logo\\&quot; title=\\&quot;show\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a class=\\&quot;brand-logo\\&quot;><img class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws.atinternet-solutions.com/Images/at_internet.png\\&quot;/></a></div></nav><div class=\\&quot;full-size maximized-content\\&quot;><nav class=\\&quot;widget-navbar grey darken-3\\&quot; id=\\&quot;maximized-nav\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a target=\\&quot;_blank\\&quot; href=\\&quot;https://apps.atinternet-solutions.com\\&quot; class=\\&quot;brand-logo\\&quot;><img class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws.atinternet-solutions.com/Images/at_internet.png\\&quot;/><span class=\\&quot;widget-logo-content grey-text text-lighten-1\\&quot;>AT Internet Bookmarklet</span></a><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header\\&quot; title=\\&quot;close\\&quot; id=\\&quot;btn-close\\&quot;>x</button><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header\\&quot; title=\\&quot;hide\\&quot; id=\\&quot;btn-hide\\&quot;>-</button><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header btn-link\\&quot; title=\\&quot;Quit (and clear your credentials)\\&quot; id=\\&quot;btn-disconnect\\&quot;>( Quit )</button></div></nav><div class=\\&quot;placeHolder100\\&quot; id=\\&quot;placeHolder1\\&quot;></div><div class=\\&quot;placeHolder50\\&quot; id=\\&quot;placeHolder2\\&quot;></div><div class=\\&quot;placeHolder_Summary_50\\&quot; id=\\&quot;placeHolder3\\&quot;></div><div class=\\&quot;placeHolder_Summary_50\\&quot; id=\\&quot;placeHolder4\\&quot;></div></div></div>\'}.call(this),function(){artoo.templates[\\&quot;src\\templatessummary.tpl\\&quot;]=\'<div class=\\&quot;loading-container\\&quot;><div class=\\&quot;loader loader-top50\\&quot;></div></div><div class=\\\\\'summary-container\\\\\'></div>\'}.call(this),function(){artoo.stylesheets[\\&quot;srccssglobal.css\\&quot;]=\\&quot;.widget-navbar {/*cursor:move;*/}.widget-navbar *{font-size:20px !important;}.widget-logo-content {display: inline-block;vertical-align: middle;margin-left: 10px;}\\&quot;}.call(this),function(){artoo.stylesheets[\\&quot;srccsslogin.css\\&quot;]=\\&quot;.widget-login *{font-size:12px;}#widget-container-login {position:absolute;top:10px;right:10px;width:400px;height:260px;z-index:1000000;background:white;overflow:hidden;font-family:Arial;}.widget-login .row {margin-bottom: 0px;margin-top: 5px;}.widget-login input {margin:0 !important;height:25px !important;}.widget-login .input-field{margin-top:20px !important;}.widget-login .form-font * {font-size:12px;}.widget-login .resetAll {all: initial;}.input-field label.active {font-size: 1rem;}\\&quot;}.call(this),function(){artoo.stylesheets[\\&quot;srccssmain.css\\&quot;]=\\&quot;.widget-main * {font-size: 12px;}.widget-main {position: absolute;top: 10px;right: 10px;width: 40%;height: 570px;z-index: 1000000;background: white;overflow: hidden;font-family: Arial;}.card-title {font-size: 18px !important;}.result-container, .full-size {width: 100%;height: 100%;}.result-container .card-content {height: 100%;padding-top: 0 !important;}.graph-container {width: 100%;height: 70%;}.parent-graph-container {width: 100%;height: 100%;text-align: center;}.preloader-wrapper {width: 25px !important;height: 25px !important;margin-left: 20px;}.btn-header {color: #FFF;opacity: .6;padding: 0;cursor: pointer;background: 0 0;border: 0;font-size: 21px !important;font-weight: 700;line-height: 1;margin-top: 20px;margin-right: 20px;}.btn-link {font-size: 15px !important;margin-top: 23px;}.minimized-content {display: none;cursor: move !important;}.minimized .minimized-content {display: block;}.minimized .maximized-content {display: none;}.widget-main.minimized {width: 54px;height: 64px;}.pointer {cursor: pointer;}.toggle-background {width: 34px;height: 18px;background-color: white !important;float: left;border: 1px solid rgb(84, 131, 174);-webkit-border-radius: 18px 18px 18px 18px;-moz-border-radius: 18px 18px 18px 18px;border-radius: 18px 18px 18px 18px;position: relative;margin-left: 10px;margin-top: 17px;}.toggle-switch {width: 16px;height: 16px;background-color: #009bd9;-webkit-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;position: absolute;-moz-transition: all 0.2s;-webkit-transition: all 0.2s;-ms-transition: all 0.2s;-o-transition: all 0.2s;transition: all 0.2s;left: 0;}.toggle-switch.toggle-switched-right {left: 16px;}.chip-container {clear: both;}.chip {margin-right: 10px;}.chip .btn-header {color: black;margin-left: 5px;margin-top: 5px;}.graph-header {width: 100%;height: 40px;display: none;}.card {margin: 0 !important;}.input-field label {top: 0.5rem !important;}.tab-data {margin: 10px;clear: both;}.switch-container {display: flex;flex-direction: row;align-items: flex-end;display: none;}.placeHolder50 {float: left;width: 50%;height: 250px;overflow: hidden;}.placeHolder100 {float: left;width: 100%;height: 250px;overflow: hidden;}.placeHolder_Summary_50 {float: left;width: 50%;overflow: hidden;}.summary-container {margin-top: 30px;margin-left: 100px;}.summary-title {font-size: 14px !important;font-weight: bold;}.summary-element {clear: both;float: left;margin-top: 10px;margin-left: 20px;text-align: left;width: 100%;}.summary-label{font-size: 12px !important;}.loading-container {display: none;}.loader {border: 4px solid #f3f3f3; /* Light grey */border-top: 4px solid #3498db; /* Blue */border-radius: 50%;width: 30px;height: 30px;animation: spin 1s linear infinite;margin: 0 auto;}.loader-top50 {margin-top: 50px;}.loader-top100 {margin-top: 100px;}@keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); }}\\&quot;}.call(this);var ApiCaller=function(e){var t=e,n=function(e,n,i,a){t.ajax({type:\\&quot;GET\\&quot;,url:e,dataType:\\&quot;json\\&quot;,headers:n,success:function(e){i&&i(e)},error:function(e){a&&a(e)}})},i=function(e,t,i,a,o){n(e,i,function(e){n(t,i,function(t){a&&a(e,t)},function(e){o&&o(e)})},function(e){o&&o(e)})};return{call:n,callSequential:i}},Authentication=function(e){var t=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/authentication/authentication/\\&quot;,n=\\&quot;ati_bmk_authentication\\&quot;,i=function(n,i,a,o){var r=btoa(n+\\&quot;:\\&quot;+i);e.call(t,{Authorization:\\&quot;Basic \\&quot;+r},function(e){a&&a(btoa(e.ExpiringToken))},function(e){o&&o(e)})},a=function(e,t){var i={email:e,token:t};localStorage.setItem(n,JSON.stringify(i))},o=function(){localStorage.removeItem(n)},r=function(){var e=JSON.parse(localStorage.getItem(n));return null!==e?e.token:\\&quot;\\&quot;},s=function(){return\\&quot;\\&quot;!==r()};return{getToken:i,keepUserConnected:a,disconnectUser:o,getCurrentUserToken:r,isConnectionKept:s}},FazScrapper=function(){var e=function(){if(window.co){var e=n(),i=a();return e>i?{articleId:t(),period:{R:{D:0}}}:{articleId:t(),period:{D:{start:\\&quot;\'\\&quot;+o(e)+\\&quot;\'\\&quot;,end:\\&quot;\'\\&quot;+o(i)+\\&quot;\'\\&quot;}}}}throw new Error(\\&quot;FAZ object \'co\' not found in page\\&quot;)},t=function(){return window.co.articleID},n=function(){var e=window.co.timestamp.substring(0,10),t=e.split(\\&quot;-\\&quot;);return new Date(t[0],t[1]-1,t[2])},i=function(e){return 10>e?\\&quot;0\\&quot;+e.toString():e},a=function(){return new Date((new Date).valueOf()-864e5)},o=function(e){return e.getFullYear()+\\&quot;-\\&quot;+i(e.getMonth()+1)+\\&quot;-\\&quot;+i(e.getDate())},r=function(){return{articleId:\\&quot;filter={cd_artikidv2:{$eq:\'#articleId#\'}}\\&quot;}};return{getScrappedValues:e,getCustomQueryValues:r}},LineDrawer=function(e,t){t.append(artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]);var n=t.find(\\&quot;.graph-container\\&quot;),i=t.find(\\&quot;.loading-container\\&quot;),a=null;Chart.defaults.global.defaultColor=\\&quot;rgb(84, 131, 174)\\&quot;,Chart.defaults.global.elements.line.borderColor=\\&quot;rgb(84, 131, 174)\\&quot;;var o=function(e,t){for(var n=[],i=0;i<e.Rows.length;i++){var a=e.Rows[i];n.push(a[t])}return n},r=function(e){return 10>e?\\&quot;0\\&quot;+e.toString():e},s=function(e){var t=[];return e.forEach(function(e){var n,i=new Date(e);n=r(i.getUTCHours())+\\&quot;:\\&quot;+r(i.getUTCMinutes()),t.push(n)}),t},l=function(e){var t=[],n=[],i=e.DataFeed[0];if(!i.Rows[0])return{labels:[],datas:[]};for(var a=i.Rows[0].Rows,r=\\&quot;evo_hour_visit\\&quot;,l=0;l<i.Columns.length;l++){var c=i.Columns[l];\\&quot;Metric\\&quot;===c.Category?n=n.concat(o(a,c.Name)):0===c.Name.indexOf(\\&quot;evo_\\&quot;)&&(r=c.Name)}return t=\\&quot;evo_hour_visit\\&quot;==r?s(o(a,r)):o(a,r),{labels:t,datas:n}},c=function(e,t,n){Array.prototype.push.apply(e.DataFeed[0].Rows[0].Rows.Rows,t.DataFeed[0].Rows[0].Rows.Rows),d(e,n)},d=function(e){var t=l(e);a?(a.data.labels=[],a.data.datasets[0].data=[],t.labels.forEach(function(e,t){a.data.labels[t]=e}),t.datas.forEach(function(e,t){a.data.datasets[0].data[t]=e}),a.update(2e3)):a=new Chart(n,{type:\\&quot;line\\&quot;,data:{labels:t.labels,datasets:[{label:\\&quot;# of visits\\&quot;,data:t.datas}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},fill:!1}})},p=function(){i.show()},u=function(){i.hide()},g=function(){a&&a.destroy()};return{draw:d,mergeAndDraw:c,clear:g,showWait:p,hideWait:u}},Notif=function(){var e=!0,t=function(){e&&($(\\&quot;.notifyjs-corner\\&quot;).css(\\&quot;z-index\\&quot;,\\&quot;2000000\\&quot;),e=!1)},n=function(e){$.notify(e,\\&quot;info\\&quot;),t()},i=function(e){$.notify(e,\\&quot;success\\&quot;),t()},a=function(e){$.notify(e,\\&quot;warning\\&quot;),t()},o=function(e){$.notify(e,\\&quot;error\\&quot;),t()};return{info:n,success:i,warning:a,error:o}}(),PieDrawer=function(e,t,n){n.append(artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]);var i=n.find(\\&quot;.graph-container\\&quot;),a=n.find(\\&quot;.loading-container\\&quot;),o=null,r=t&&t.type||\\&quot;pie\\&quot;,s=t&&t.title||\\&quot;\\&quot;,l=function(e){for(var t=[],n=[],i=[],a=e.DataFeed[0],o=0;o<a.Rows.length;o++){var r=a.Rows[o];t.push(r[Object.keys(r)[0]]),n.push(r[Object.keys(r)[1]]),i.push(Colors.getBGColor(o))}return{labels:t,datas:n,backgroundColors:i}},c=function(e,t,n){e=JSON.parse(\'{\\&quot;DataFeed\\&quot;:[{\\&quot;Columns\\&quot;:[{\\&quot;Name\\&quot;:\\&quot;d_source\\&quot;,\\&quot;Label\\&quot;:\\&quot;Sources\\&quot;,\\&quot;Category\\&quot;:\\&quot;Dimension\\&quot;,\\&quot;Type\\&quot;:\\&quot;String\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;String\\&quot;},{\\&quot;Name\\&quot;:\\&quot;m_visits\\&quot;,\\&quot;Label\\&quot;:\\&quot;Visits\\&quot;,\\&quot;Category\\&quot;:\\&quot;Metric\\&quot;,\\&quot;Type\\&quot;:\\&quot;Integer\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;Integer\\&quot;,\\&quot;Summable\\&quot;:true,\\&quot;Pie\\&quot;:true}],\\&quot;Rows\\&quot;:[{\\&quot;d_source\\&quot;:\\&quot;Direct traffic\\&quot;,\\&quot;m_visits\\&quot;:7262},{\\&quot;d_source\\&quot;:\\&quot;Search engines\\&quot;,\\&quot;m_visits\\&quot;:1043},{\\&quot;d_source\\&quot;:\\&quot;Referrer sites\\&quot;,\\&quot;m_visits\\&quot;:79},{\\&quot;d_source\\&quot;:\\&quot;Email marketing\\&quot;,\\&quot;m_visits\\&quot;:66},{\\&quot;d_source\\&quot;:\\&quot;Social\\&quot;,\\&quot;m_visits\\&quot;:31}]}]}\'),t=JSON.parse(\'{\\&quot;DataFeed\\&quot;:[{\\&quot;Columns\\&quot;:[{\\&quot;Name\\&quot;:\\&quot;d_source\\&quot;,\\&quot;Label\\&quot;:\\&quot;Sources\\&quot;,\\&quot;Category\\&quot;:\\&quot;Dimension\\&quot;,\\&quot;Type\\&quot;:\\&quot;String\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;String\\&quot;},{\\&quot;Name\\&quot;:\\&quot;m_visits\\&quot;,\\&quot;Label\\&quot;:\\&quot;Visits\\&quot;,\\&quot;Category\\&quot;:\\&quot;Metric\\&quot;,\\&quot;Type\\&quot;:\\&quot;Integer\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;Integer\\&quot;,\\&quot;Summable\\&quot;:true,\\&quot;Pie\\&quot;:true}],\\&quot;Rows\\&quot;:[{\\&quot;d_source\\&quot;:\\&quot;Direct traffic\\&quot;,\\&quot;m_visits\\&quot;:7262},{\\&quot;d_source\\&quot;:\\&quot;Search engines\\&quot;,\\&quot;m_visits\\&quot;:1043},{\\&quot;d_source\\&quot;:\\&quot;Referrer sites\\&quot;,\\&quot;m_visits\\&quot;:79},{\\&quot;d_source\\&quot;:\\&quot;Email marketing\\&quot;,\\&quot;m_visits\\&quot;:66},{\\&quot;d_source\\&quot;:\\&quot;Social\\&quot;,\\&quot;m_visits\\&quot;:31},{\\&quot;d_source\\&quot;:\\&quot;bibi\\&quot;,\\&quot;m_visits\\&quot;:1500}]}]}\');for(var i=\\&quot;\\&quot;,a=\\&quot;\\&quot;,o=e.DataFeed[0].Columns,r=0;r<o.length&&(\\&quot;Dimension\\&quot;===o[r].Category?i=o[r].Name:\\&quot;Metric\\&quot;===o[r].Category&&(a=o[r].Name),\\&quot;\\&quot;==a||\\&quot;\\&quot;==a);r++);var s,l,c=e.DataFeed[0].Rows,p=t.DataFeed[0].Rows;for(s=0;s<c.length;s++)for(l=0;l<p.length;l++)if(p[l][i]===c[s][i]){c[s][a]=p[l][a]+c[s][a];break}var u=!1;for(s=0;s<p.length;s++){for(u=!1,l=0;l<c.length;l++)if(p[s][i]===c[l][i]){u=!0;break}u||c.push(p[s])}c.sort(function(e,t){return e[a]>t[a]?1:t[a]>e[a]?-1:0}),c=c.slice(0,9),d(e,n)},d=function(e){var t=l(e);o=new Chart(i,{type:r,data:{labels:t.labels,datasets:[{data:t.datas,backgroundColor:t.backgroundColors}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:\\&quot;bottom\\&quot;,labels:{boxWidth:20,fontSize:9,padding:5}},title:{display:\\&quot;\\&quot;!=s,text:s}}})},p=function(){a.show()},u=function(){a.hide()},g=function(){o&&o.destroy()};return{draw:d,clear:g,showWait:p,hideWait:u,mergeAndDraw:c}},QueryGenerator=function(e,t){var n={level2:\\&quot;space={l2s:{s:#site#,l2:#level2#}}\\&quot;,site:\\&quot;space={s:#site#}\\&quot;,page:\\&quot;filter={d_page:{$eq:\'#page#\'}}\\&quot;,period:\\&quot;period=#period#\\&quot;},i=function(t,i){var o={};a(o,t),a(o,i);var r=e;for(var s in o)if(o.hasOwnProperty(s)&&o[s]&&n[s])if(\\&quot;object\\&quot;==typeof o[s]){var l=o[s],c=n[s];c=c.replace(\\&quot;#\\&quot;+s+\\&quot;#\\&quot;,JSON.stringify(l)),c=c.replace(/\\&quot;/g,\\&quot;\\&quot;),c&&(r+=\\&quot;&\\&quot;+c)}else r+=\\&quot;&\\&quot;+n[s].replace(\\&quot;#\\&quot;+s+\\&quot;#\\&quot;,o[s]);return o.period||(r+=\\&quot;&period={R:{D:0}}\\&quot;),r},a=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return a(n,t),{getQuery:i}},SiteInfos=function(e,t){var n=function(n,i,a){var o=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/site/infos?keys={id:#site#}\\&quot;,r=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/site/levels2?keys={siteid:#site#,id:#level2#}\\&quot;,s=o;null!==i&&(s=r.replace(\\&quot;#level2#\\&quot;,i)),s=s.replace(\\&quot;#site#\\&quot;,n),e.call(s,t,function(e){var t={site:\\&quot;\\&quot;,level2:\\&quot;\\&quot;};null!==i?(t.site=e.Site.Label,t.level2=e.Label):t.site=e.Label,a(t)},function(e){a({}),console.log(e)})};return{getSiteInfos:n}},SummaryDrawer=function(e,t,n){n.append(artoo.templates[\\&quot;src\\templatessummary.tpl\\&quot;]);var i=n.find(\\&quot;.summary-container\\&quot;),a=n.find(\\&quot;.loading-container\\&quot;),o=function(e){for(var t=[],n=[],i=e.DataFeed[0],a=0;a<i.Rows.length;a++)for(var o=i.Rows[a],r=Object.keys(o),s=0;s<r.length;s++)t.push(r[s]),n.push(o[Object.keys(o)[s]]);return{labels:t,datas:n}},r=function(e,t,n){s(e,n)},s=function(a){var r=o(a),s=e(\\&quot;<span class=\'summary-title\'>\\&quot;+t.title+\\&quot;</span>\\&quot;);i.append(s),n.append(i);for(var c=0;c<r.labels.length;c++)i.append(\\&quot;<div class=\'summary-element\'><span class=\'summary-label\'>\\&quot;+l(r.labels[c])+\\&quot;: </span><span class=\'summary-label\'>\\&quot;+r.datas[c]+\\&quot;</span></div>\\&quot;)},l=function(e){var t={m_page_loads:\\&quot;Page loads\\&quot;,m_visits:\\&quot;Visits\\&quot;};return t[e]?t[e]:e},c=function(){a.show()},d=function(){a.hide()},p=function(){};return{draw:s,mergeAndDraw:r,clear:p,showWait:c,hideWait:d}},TagScrapper=function(){var e=function(){return params={site:t()}},t=function(){return window.xtsite?window.xtsite:n(\\&quot;site\\&quot;)},n=function(e){if(window.ATInternet&&window.ATInternet.Tracker){if(window.ATInternet.Tracker.instances&&window.ATInternet.Tracker.instances[0])return i(window.ATInternet.Tracker.instances).getConfig(e);if(window.ATInternet.Tracker.Tag&&window.ATInternet.Tracker.Tag.prototype.instances[0])return i(window.ATInternet.Tracker.Tag.prototype.instances).getConfig(e)}return null},i=function(e){return e[e.length-1]};return{getParamsFromTag:e}},Tools=function(){var e=function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)},t=function(e){return JSON.parse(JSON.stringify(e))};return{getDocumentHeight:e,clone:t}}(),Colors=function(){function e(){return i+=1,a[n(i,10)]}function t(e){return a[n(e,10)]}function n(e,t){return e-Math.floor(e/t)*t}var i=0,a=[\\&quot;rgb(105, 163, 216)\\&quot;,\\&quot;rgb(156, 126, 190)\\&quot;,\\&quot;rgb(255, 198, 24)\\&quot;,\\&quot;rgb(91, 179, 203)\\&quot;,\\&quot;rgb(127, 181, 90)\\&quot;,\\&quot;rgb(42, 110, 145)\\&quot;,\\&quot;rgb(197, 74, 61)\\&quot;,\\&quot;rgb(248, 120, 24)\\&quot;,\\&quot;rgb(108, 86, 133)\\&quot;,\\&quot;rgb(93, 130, 69)\\&quot;];return{getNextBGColor:e,getBGColor:t}}(),loginCtrl=function(){var e,t=function(t,i,a,o,r){e=t,e.$().append(artoo.templates[\\&quot;src\\templateslogin.tpl\\&quot;]);var s=a.getCurrentUserToken();\\&quot;\\&quot;!==s&&o(s),e.$(\\&quot;#btn-close-login\\&quot;).bind(\\&quot;click\\&quot;,function(){try{e.kill()}catch(t){}}),e.$(\\&quot;#btnLogin\\&quot;).click(function(){var t=e.$(\\&quot;#email\\&quot;).val(),i=e.$(\\&quot;#password\\&quot;).val(),s=e.$(\\&quot;#chkKeepConnected\\&quot;).prop(\\&quot;checked\\&quot;);n(a,t,i,function(e){s&&a.keepUserConnected(t,e),o(e)},function(e){r(e)})})},n=function(e,t,n,i,a){e.getToken(t,n,function(e){i(e)},function(e){a(e)})},i=function(t){e.$(\\&quot;#loginMessage\\&quot;).text(t)},a=function(){e.$(\\&quot;.widget-login\\&quot;).remove()};return{initialize:t,hide:a,showMessage:i}}(),mainCtrl=function(){var e,t,n=[],i=[],a=function(a,r,s,l){e=a,t=r,i.push({baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={d_site,m_visits}&sort={-m_visits}\\&quot;,drawer:new LineDrawer(t,e.$(\\&quot;#placeHolder1\\&quot;)),evolution:!0},{baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={d_source,m_visits}&sort={-m_visits}&max-results=10\\&quot;,drawer:new PieDrawer(t,{type:\\&quot;doughnut\\&quot;,title:\\&quot;Referrers\\&quot;},e.$(\\&quot;#placeHolder2\\&quot;))},{baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={m_page_loads,m_visits}&sort={-m_visits}\\&quot;,drawer:new SummaryDrawer(t,{title:\\&quot;Today:\\&quot;},e.$(\\&quot;#placeHolder3\\&quot;)),onlyRealTime:!0},{baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={m_page_loads,m_visits}&sort={-m_visits}\\&quot;,drawer:new SummaryDrawer(t,{title:\\&quot;From the begining:\\&quot;},e.$(\\&quot;#placeHolder4\\&quot;)),onlyRealTime:!1}),e.$(\\&quot;#btn-close\\&quot;).bind(\\&quot;click\\&quot;,function(){try{n.forEach(function(e){e()}),e.kill()}catch(t){}}),e.$(\\&quot;#btn-disconnect\\&quot;).bind(\\&quot;click\\&quot;,function(){s.disconnectUser(),n.forEach(function(e){e()}),e.kill()}),e.$(\\&quot;#btn-hide,#minimized-logo\\&quot;).bind(\\&quot;click\\&quot;,function(){e.$(\\&quot;#widget-container\\&quot;).toggleClass(\\&quot;minimized\\&quot;)}),s.isConnectionKept()||e.$(\\&quot;#btn-disconnect\\&quot;).hide();var c=new TagScrapper,d=c.getParamsFromTag(),p=new FazScrapper,u=p.getCustomQueryValues(),g=p.getScrappedValues();i.forEach(function(e){e.onClose=o,e.token=l,e.scrapperParams=Tools.clone(d),e.fazScrappedValues=Tools.clone(g),e.customQueryValues=Tools.clone(u),new PlaceHolderCtrl(e)})},o=function(e){n.push(e)};return{initialize:a,onClose:o}}(),PlaceHolderCtrl=function(e){var t=e.drawer,n=e.scrapperParams,i=e.fazScrappedValues,a=e.customQueryValues,o=new QueryGenerator(e.baseQuery,a),r=new ApiCaller($),s=function(){var a=o.getQuery(n,i),r=\\&quot;\\&quot;;e.onlyRealTime&&!i.period.R?(delete i.period,i.period=\\&quot;{R:{D:0}}\\&quot;,a=o.getQuery(n,i)):i.period.R?e.evolution&&(a+=\\&quot;&evo={H}\\&quot;):(delete i.period,i.period=\\&quot;{R:{D:0}}\\&quot;,r=o.getQuery(n,i),e.evolution&&(r+=\\&quot;&evo={D}\\&quot;,a+=\\&quot;&evo={D}\\&quot;)),t&&t.clear(),\\&quot;\\&quot;==r?c(a):l(a,r)},l=function(n,i){t.showWait(),r.callSequential(n,i,{Authorization:\\&quot;Token \\&quot;+e.token},function(n,i){t.mergeAndDraw(n,i,e.container),t.hideWait()},function(e){console.log(e),Notif.error(JSON.parse(e.responseText).ErrorMessage),t.hideWait()})},c=function(n){t.showWait(),r.call(n,{Authorization:\\&quot;Token \\&quot;+e.token},function(n){t.draw(n,e.container),t.hideWait()},function(e){console.log(e),Notif.error(JSON.parse(e.responseText).ErrorMessage),t.hideWait()})};s()};(function(e){var t=new artoo.ui({stylesheets:[\\&quot;srccssglobal.css\\&quot;,\\&quot;srccsslogin.css\\&quot;,\\&quot;srccssmain.css\\&quot;]}),n=new ApiCaller(e),i=new Authentication(n);loginCtrl.initialize(t,e,i,function(n){loginCtrl.hide(),t.$().append(artoo.templates[\\&quot;src\\templatesmain.tpl\\&quot;]),mainCtrl.initialize(t,e,i,n),mainCtrl.onClose(function(){})},function(e){console.log(e),Notif.error(JSON.parse(e.responseText).ErrorMessage)})}).call(this,artoo.$);&quot;'},i=!0;if(&quot;object&quot;==typeof this.artoo&&(artoo.settings.reload||(artoo.log.verbose(&quot;artoo already exists within this page. No need to inject him again.&quot;),artoo.loadSettings(t),artoo.exec(),i=!1)),i){var n=document.getElementsByTagName(&quot;body&quot;)[0];n||(n=document.createElement(&quot;body&quot;),document.documentElement.appendChild(n));var a=document.createElement(&quot;script&quot;);console.log(&quot;artoo.js is loading...&quot;),a.src=&quot;//medialab.github.io/artoo/public/dist/artoo-latest.min.js&quot;,a.type=&quot;text/javascript&quot;,a.id=&quot;artoo_injected_script&quot;,a.setAttribute(&quot;settings&quot;,JSON.stringify(t)),n.appendChild(a)}}).call(this);">
           <img class="imgBookmarklet" alt="AT Internet" width="224" height="183" src="logo.png">
    </a>
    <img class="imgDrag" alt="drag-indicator" src="drag.png">
</p>

</body>
</html>
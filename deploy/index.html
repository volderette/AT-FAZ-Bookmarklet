<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AT BookMarklet</title>
    <link id='ico' rel='shortcut icon' href='AT.ico' />
    <style>
        .imgBookmarklet {
            width: 224px;
            height: 183px;
        }
        .imgDrag {
            position: absolute;
            margin-left: 10px;
            width: 200px;
            margin-top: -30px;
        }
    </style>
</head>
<body>

<p align="center">
    <br />
    <a href="javascript: (function(e){var t={reExec:!0,dependencies:[{name:&quot;notify&quot;,url:&quot;//cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.js&quot;,globals:[&quot;notify&quot;]},{name:&quot;Chart&quot;,url:&quot;//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.js&quot;,globals:[&quot;Chart&quot;]}],eval:'&quot;(function(){artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]=\'<div class=\\&quot;loading-container\\&quot;><div class=\\&quot;loader loader-top100\\&quot;></div></div><div class=\\&quot;canvas-container\\&quot;><canvas class=\\&quot;graph-container\\&quot; /></div>\'}).call(this),function(){artoo.templates[\\&quot;src\\templateslogin.tpl\\&quot;]=\'<div class=\\&quot;widget-login z-depth-5\\&quot;  id=\\&quot;widget-container-login\\&quot;><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.css\\&quot;; </style><nav class=\\&quot;widget-navbar grey darken-3\\&quot; id=\\&quot;login-logo\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a target=\\&quot;_blank\\&quot; href=\\&quot;https://apps.atinternet-solutions.com\\&quot; class=\\&quot;brand-logo\\&quot;><img class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws-dev.atinternet-solutions.com/Images/at_internet.png\\&quot;></img><span class=\\&quot;widget-logo-content grey-text text-lighten-1\\&quot;>AT Internet Bookmarklet</span></a><button type=\\&quot;button\\&quot; class=\\&quot;right btn-close btn-header\\&quot; title=\\&quot;close\\&quot; id=\\&quot;btn-close-login\\&quot;>x</button></div></nav><div class=\\&quot;row\\&quot;><form class=\\&quot;col s12\\&quot;><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s8 offset-s2\\&quot;><input id=\\&quot;email\\&quot; type=\\&quot;email\\&quot; class=\\&quot;validate labelForm\\&quot;></input><label class=\\&quot;active labelForm\\&quot; for=\\&quot;email\\&quot;>Email</label></div></div><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s8 offset-s2\\&quot;><input id=\\&quot;password\\&quot; type=\\&quot;password\\&quot; class=\\&quot;validate labelForm\\&quot;></input><label class=\\&quot;active labelForm\\&quot; for=\\&quot;password\\&quot;>Password</label></div></div><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s5 offset-s1 form-font\\&quot;><input type=\\&quot;checkbox\\&quot; id=\\&quot;chkKeepConnected\\&quot; /><label for=\\&quot;chkKeepConnected\\&quot;>keep connected</label></div><div class=\\&quot;input-field col s5 right-align form-font\\&quot;><a class=\\&quot;waves-effect waves-light btn\\&quot; id=\\&quot;btnLogin\\&quot;>Login</a></div></div><div class=\\&quot;row center-align\\&quot;><label id=\\&quot;loginMessage\\&quot; class=\\&quot;red-text\\&quot;></label></div></form></div></div>\'}.call(this),function(){artoo.templates[\\&quot;src\\templatesmain.tpl\\&quot;]=\'<div class=\\&quot;widget-main z-depth-5\\&quot; id=\\&quot;widget-container\\&quot;><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.css\\&quot;; </style><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css\\&quot;; </style><nav class=\\&quot;widget-navbar grey darken-3 minimized-content pointer\\&quot; id=\\&quot;minimized-logo\\&quot; title=\\&quot;show\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a class=\\&quot;brand-logo\\&quot;><img class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws.atinternet-solutions.com/Images/at_internet.png\\&quot;/></a></div></nav><div class=\\&quot;full-size maximized-content\\&quot;><nav class=\\&quot;widget-navbar grey darken-3\\&quot; id=\\&quot;maximized-nav\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a target=\\&quot;_blank\\&quot; href=\\&quot;https://apps.atinternet-solutions.com\\&quot; class=\\&quot;brand-logo\\&quot;><img class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws.atinternet-solutions.com/Images/at_internet.png\\&quot;/><span class=\\&quot;widget-logo-content grey-text text-lighten-1\\&quot;>AT Internet Bookmarklet</span></a><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header\\&quot; title=\\&quot;close\\&quot; id=\\&quot;btn-close\\&quot;>x</button><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header\\&quot; title=\\&quot;hide\\&quot; id=\\&quot;btn-hide\\&quot;>-</button><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header btn-link\\&quot; title=\\&quot;Quit (and clear your credentials)\\&quot; id=\\&quot;btn-disconnect\\&quot;>( Quit )</button></div></nav><div class=\\&quot;chip-container\\&quot; id=\\&quot;chip-container\\&quot;></div><div class=\\&quot;placeHolder100\\&quot; id=\\&quot;placeHolder1\\&quot;></div><div class=\\&quot;placeHolder50\\&quot; id=\\&quot;placeHolder2\\&quot;></div><div class=\\&quot;placeHolder_Summary_50\\&quot; id=\\&quot;placeHolder3\\&quot;></div><div class=\\&quot;placeHolder_Summary_50\\&quot; id=\\&quot;placeHolder4\\&quot;></div></div></div>\'}.call(this),function(){artoo.templates[\\&quot;src\\templatessummary.tpl\\&quot;]=\'<div class=\\&quot;loading-container\\&quot;><div class=\\&quot;loader loader-top50\\&quot;></div></div><div class=\\\\\'summary-container\\\\\'></div>\'}.call(this),function(){artoo.stylesheets[\\&quot;srccssglobal.css\\&quot;]=\\&quot;.widget-navbar {/*cursor:move;*/}.widget-navbar *{font-size:20px !important;}.widget-logo-content {display: inline-block;vertical-align: middle;margin-left: 10px;}\\&quot;}.call(this),function(){artoo.stylesheets[\\&quot;srccsslogin.css\\&quot;]=\\&quot;.widget-login *{font-size:12px;}.labelForm {font-size:12px !important;}#widget-container-login {position:absolute;top:10px;right:10px;width:400px;height:260px;z-index:1000000;background:white;overflow:hidden;font-family:Arial;}.widget-login .row {margin-bottom: 0px;margin-top: 5px;}.widget-login input {margin:0 !important;height:25px !important;}.widget-login .input-field{margin-top:20px !important;}.widget-login .form-font * {font-size:12px;}.widget-login .resetAll {all: initial;}.input-field label.active {font-size: 1rem;}\\&quot;}.call(this),function(){artoo.stylesheets[\\&quot;srccssmain.css\\&quot;]=\\&quot;.widget-main * {font-size: 12px;}.widget-main {position: absolute;top: 10px;right: 10px;width: 800px;height: 620px;z-index: 1000000;background: white;overflow: hidden;font-family: Arial;}.card-title {font-size: 18px !important;}.result-container, .full-size {width: 100%;height: 100%;}.result-container .card-content {height: 100%;padding-top: 0 !important;}.graph-container {}.parent-graph-container {width: 100%;height: 100%;text-align: center;}.preloader-wrapper {width: 25px !important;height: 25px !important;margin-left: 20px;}.btn-header {color: #FFF;opacity: .6;padding: 0;cursor: pointer;background: 0 0;border: 0;font-size: 21px !important;font-weight: 700;line-height: 1;margin-top: 20px;margin-right: 20px;}.btn-link {font-size: 15px !important;margin-top: 23px;}.minimized-content {display: none;cursor: move !important;}.minimized .minimized-content {display: block;}.minimized .maximized-content {display: none;}.widget-main.minimized {width: 54px;height: 64px;}.pointer {cursor: pointer;}.toggle-background {width: 34px;height: 18px;background-color: white !important;float: left;border: 1px solid rgb(84, 131, 174);-webkit-border-radius: 18px 18px 18px 18px;-moz-border-radius: 18px 18px 18px 18px;border-radius: 18px 18px 18px 18px;position: relative;margin-left: 10px;margin-top: 17px;}.toggle-switch {width: 16px;height: 16px;background-color: #009bd9;-webkit-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;position: absolute;-moz-transition: all 0.2s;-webkit-transition: all 0.2s;-ms-transition: all 0.2s;-o-transition: all 0.2s;transition: all 0.2s;left: 0;}.toggle-switch.toggle-switched-right {left: 16px;}.chip-container {clear: both;}.chip {margin-right: 10px;}.chip .btn-header {color: black;margin-left: 5px;margin-top: 5px;}.graph-header {width: 100%;height: 40px;display: none;}.card {margin: 0 !important;}.input-field label {top: 0.5rem !important;}.tab-data {margin: 10px;clear: both;}.switch-container {display: flex;flex-direction: row;align-items: flex-end;display: none;}.placeHolder50 {float: left;width: 50%;height: 250px;overflow: hidden;}.placeHolder100 {float: left;width: 100%;height: 250px;overflow: hidden;}.placeHolder_Summary_50 {float: left;width: 50%;overflow: hidden;}.chip-container {float: left;width: 100%;height: 30px;overflow: hidden;padding: 5px;}.summary-container {margin-top: 30px;margin-left: 100px;}.summary-title {font-size: 14px !important;font-weight: bold;}.summary-element {clear: both;float: left;margin-top: 10px;margin-left: 20px;text-align: left;width: 100%;}.summary-label{font-size: 12px !important;}.loading-container {display: none;}.loader {border: 4px solid #f3f3f3; /* Light grey */border-top: 4px solid #3498db; /* Blue */border-radius: 50%;width: 30px;height: 30px;animation: spin 1s linear infinite;position: absolute;}.placeHolder100 .loader {left: 0;right: 0;margin-left: auto;margin-right: auto;}.placeHolder50 .loader {left: 0;right: 0;margin-left: 25%;margin-right: auto;}.placeHolder_Summary_50 .loader {left: 0;right: 0;margin-left: auto;margin-right: 25%;}.loader-top50 {margin-top: 50px;}.loader-top100 {margin-top: 100px;}@keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); }}.custom-chip {display: inline-block;height: 20px;font-size: 13px;font-weight: 500;color: rgba(0, 0, 0, 0.6);line-height: 20px;padding: 0 12px;border-radius: 12px;background-color: #ffffff;margin-right: 5px;cursor: pointer;}.custom-chip-enable {background-color: #0090ca;color: white;}.custom-chip-disable {background-color: #e4e4e4;color: black;}.custom-chip-readonly {cursor: default;}.btn-header-chip {color: #FFF;opacity: .6;padding: 0;cursor: pointer;background: 0 0;border: 0;font-size: 21px !important;font-weight: 700;line-height: 1;margin-left:5px;}.canvas-container {padding: 5px;height: 250px;}\\&quot;}.call(this);var ApiCaller=function(e){var t=e,n=function(e,n,i,a){t.ajax({type:\\&quot;GET\\&quot;,url:e,dataType:\\&quot;json\\&quot;,headers:n,success:function(e){i&&i(e)},error:function(e){a&&a(e)}})},i=function(e,t,i,a,o){n(e,i,function(e){n(t,i,function(t){a&&a(e,t)},function(e){o&&o(e)})},function(e){o&&o(e)})};return{call:n,callSequential:i}},Authentication=function(e){var t=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/authentication/authentication/\\&quot;,n=\\&quot;ati_bmk_authentication\\&quot;,i=function(n,i,a,o){var r=btoa(n+\\&quot;:\\&quot;+i);e.call(t,{Authorization:\\&quot;Basic \\&quot;+r},function(e){a&&a(btoa(e.ExpiringToken))},function(e){o&&o(e)})},a=function(e,t){var i={email:e,token:t};localStorage.setItem(n,JSON.stringify(i))},o=function(){localStorage.removeItem(n)},r=function(){var e=JSON.parse(localStorage.getItem(n));return null!==e?e.token:\\&quot;\\&quot;},s=function(){return\\&quot;\\&quot;!==r()};return{getToken:i,keepUserConnected:a,disconnectUser:o,getCurrentUserToken:r,isConnectionKept:s}},LineDrawer=function(e,t){t.append(artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]);var n=t.find(\\&quot;.graph-container\\&quot;),i=t.find(\\&quot;.loading-container\\&quot;),a=null;Chart.defaults.global.defaultColor=\\&quot;rgb(84, 131, 174)\\&quot;,Chart.defaults.global.elements.line.borderColor=\\&quot;rgb(84, 131, 174)\\&quot;;var o=function(e,t){for(var n=[],i=0;i<e.Rows.length;i++){var a=e.Rows[i];n.push(a[t])}return n},r=function(e){return 10>e?\\&quot;0\\&quot;+e.toString():e},s=function(e){var t=[];return e.forEach(function(e){var n,i=new Date(e);n=r(i.getUTCHours())+\\&quot;:\\&quot;+r(i.getUTCMinutes()),t.push(n)}),t},l=function(e){var t=[],n=[],i=e.DataFeed[0];if(!i.Rows[0])return{labels:[],datas:[]};for(var a=i.Rows[0].Rows,r=\\&quot;evo_hour_visit\\&quot;,l=0;l<i.Columns.length;l++){var c=i.Columns[l];\\&quot;Metric\\&quot;===c.Category?n=n.concat(o(a,c.Name)):0===c.Name.indexOf(\\&quot;evo_\\&quot;)&&(r=c.Name)}return t=\\&quot;evo_hour_visit\\&quot;==r?s(o(a,r)):o(a,r),{labels:t,datas:n}},c=function(e,t,n){Array.prototype.push.apply(e.DataFeed[0].Rows[0].Rows.Rows,t.DataFeed[0].Rows[0].Rows.Rows),d(e,n)},d=function(e){var t=l(e);a?(a.data.labels=[],a.data.datasets[0].data=[],t.labels.forEach(function(e,t){a.data.labels[t]=e}),t.datas.forEach(function(e,t){a.data.datasets[0].data[t]=e}),a.update(2e3)):a=new Chart(n,{type:\\&quot;line\\&quot;,data:{labels:t.labels,datasets:[{label:\\&quot;# of visits\\&quot;,data:t.datas}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},fill:!1}})},p=function(){i.show()},u=function(){i.hide()},g=function(){};return{draw:d,mergeAndDraw:c,clear:g,showWait:p,hideWait:u}},Notif=function(){var e=!0,t=function(){e&&($(\\&quot;.notifyjs-corner\\&quot;).css(\\&quot;z-index\\&quot;,\\&quot;2000000\\&quot;),e=!1)},n=function(e){$.notify(e,\\&quot;info\\&quot;),t()},i=function(e){$.notify(e,\\&quot;success\\&quot;),t()},a=function(e){$.notify(e,\\&quot;warning\\&quot;),t()},o=function(e){$.notify(e,\\&quot;error\\&quot;),t()};return{info:n,success:i,warning:a,error:o}}(),PieDrawer=function(e,t,n){n.append(artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]);var i=n.find(\\&quot;.graph-container\\&quot;),a=n.find(\\&quot;.loading-container\\&quot;),o=null,r=t&&t.type||\\&quot;pie\\&quot;,s=t&&t.title||\\&quot;\\&quot;,l=function(e){for(var t=[],n=[],i=[],a=e.DataFeed[0],o=0;o<a.Rows.length;o++){var r=a.Rows[o];t.push(r[Object.keys(r)[0]]),n.push(r[Object.keys(r)[1]]),i.push(Colors.getBGColor(o))}return{labels:t,datas:n,backgroundColors:i}},c=function(e,t,n){for(var i=\\&quot;\\&quot;,a=\\&quot;\\&quot;,o=e.DataFeed[0].Columns,r=0;r<o.length&&(\\&quot;Dimension\\&quot;===o[r].Category?i=o[r].Name:\\&quot;Metric\\&quot;===o[r].Category&&(a=o[r].Name),\\&quot;\\&quot;==a||\\&quot;\\&quot;==a);r++);var s,l,c=e.DataFeed[0].Rows,p=t.DataFeed[0].Rows;for(s=0;s<c.length;s++)for(l=0;l<p.length;l++)if(p[l][i]===c[s][i]){c[s][a]=p[l][a]+c[s][a];break}var u=!1;for(s=0;s<p.length;s++){for(u=!1,l=0;l<c.length;l++)if(p[s][i]===c[l][i]){u=!0;break}u||c.push(p[s])}c.sort(function(e,t){return e[a]>t[a]?1:t[a]>e[a]?-1:0}),c=c.slice(0,9),d(e,n)},d=function(e){i.empty();var t=l(e);o=new Chart(i,{type:r,data:{labels:t.labels,datasets:[{data:t.datas,backgroundColor:t.backgroundColors}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:\\&quot;bottom\\&quot;,labels:{boxWidth:20,fontSize:9,padding:5}},title:{display:\\&quot;\\&quot;!=s,text:s}}})},p=function(){a.show()},u=function(){a.hide()},g=function(){o&&o.destroy()};return{draw:d,clear:g,showWait:p,hideWait:u,mergeAndDraw:c}},QueryGenerator=function(e,t){var n={level2:\\&quot;space={l2s:{s:#site#,l2:#level2#}}\\&quot;,site:\\&quot;space={s:#site#}\\&quot;,page:\\&quot;filter={d_page:{$eq:\'#page#\'}}\\&quot;,period:\\&quot;period=#period#\\&quot;,evo:\\&quot;evo=#evo#\\&quot;},i=function(t){var i={};a(i,t);var o=e;for(var r in i)if(i.hasOwnProperty(r)&&i[r]&&n[r])if(\\&quot;object\\&quot;==typeof i[r]){var s=i[r],l=n[r];for(var c in s)s.hasOwnProperty(c)&&(l=l.replace(\\&quot;#\\&quot;+c+\\&quot;#\\&quot;,s[c]));l&&(o+=\\&quot;&\\&quot;+l)}else\\&quot;evo\\&quot;===r?o.indexOf(\\&quot;#evo#\\&quot;)>0&&(o=o.replace(\\&quot;#evo#\\&quot;,\\&quot;\\&quot;),o+=\\&quot;&\\&quot;+n[r].replace(\\&quot;#\\&quot;+r+\\&quot;#\\&quot;,i[r])):o+=\\&quot;&\\&quot;+n[r].replace(\\&quot;#\\&quot;+r+\\&quot;#\\&quot;,i[r]);return o.indexOf(\\&quot;period\\&quot;)<0&&(o+=\\&quot;&period={R:{D:0}}\\&quot;),o.indexOf(\\&quot;#evo#\\&quot;)>0&&(o=o.replace(\\&quot;#evo#\\&quot;,\\&quot;&evo={H}\\&quot;)),o},a=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return a(n,t),{getQuery:i}},SiteInfos=function(e,t){var n=function(n,i,a){var o=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/site/infos?keys={id:#site#}\\&quot;,r=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/site/levels2?keys={siteid:#site#,id:#level2#}\\&quot;,s=o;null!==i&&(s=r.replace(\\&quot;#level2#\\&quot;,i)),s=s.replace(\\&quot;#site#\\&quot;,n),e.call(s,t,function(e){var t={site:\\&quot;\\&quot;,level2:\\&quot;\\&quot;};null!==i?(t.site=e.Site.Label,t.level2=e.Label):t.site=e.Label,a(t)},function(e){a({}),console.log(e)})};return{getSiteInfos:n}},SummaryDrawer=function(e,t,n){n.append(artoo.templates[\\&quot;src\\templatessummary.tpl\\&quot;]);var i=n.find(\\&quot;.summary-container\\&quot;),a=n.find(\\&quot;.loading-container\\&quot;),o=function(e){for(var t=[],n=[],i=e.DataFeed[0],a=0;a<i.Rows.length;a++)for(var o=i.Rows[a],r=Object.keys(o),s=0;s<r.length;s++)t.push(r[s]),n.push(o[Object.keys(o)[s]]);return{labels:t,datas:n}},r=function(e,t,n){s(e,n)},s=function(a){var r=o(a),s=e(\\&quot;<span class=\'summary-title\'>\\&quot;+t.title+\\&quot;</span>\\&quot;);i.append(s),n.append(i);for(var c=0;c<r.labels.length;c++)i.append(\\&quot;<div class=\'summary-element\'><span class=\'summary-label\'>\\&quot;+l(r.labels[c])+\\&quot;: </span><span class=\'summary-label\'>\\&quot;+r.datas[c]+\\&quot;</span></div>\\&quot;)},l=function(e){var t={m_page_loads:\\&quot;Page loads\\&quot;,m_visits:\\&quot;Visits\\&quot;};return t[e]?t[e]:e},c=function(){a.show()},d=function(){a.hide()},p=function(){i.empty()};return{draw:s,mergeAndDraw:r,clear:p,showWait:c,hideWait:d}},TagScrapper=function(){var e=function(){var e={site:t(),page:i()},a=n();if(a){var o=e.page,r=e.site;delete e.site,delete e.page,e.level2={site:r,level2:a},e.page=o}return e},t=function(){return window.xtsite?window.xtsite:a(\\&quot;site\\&quot;)},n=function(){if(window.xtsite)return window.xtn2;var e=o(\\&quot;page\\&quot;);return e&&e.level2?e.level2:a(\\&quot;level2\\&quot;)},i=function(){if(window.xtpage)return window.xtpage;var e=o(\\&quot;page\\&quot;);return e?e.name:null},a=function(e){if(window.ATInternet&&window.ATInternet.Tracker){if(window.ATInternet.Tracker.instances&&window.ATInternet.Tracker.instances[0])return r(window.ATInternet.Tracker.instances).getConfig(e);if(window.ATInternet.Tracker.Tag&&window.ATInternet.Tracker.Tag.prototype.instances[0])return r(window.ATInternet.Tracker.Tag.prototype.instances).getConfig(e)}return null},o=function(e){if(window.ATInternet&&window.ATInternet.Tracker&&window.ATInternet.Tracker.Tag){if(window.ATInternet.Tracker.instances&&window.ATInternet.Tracker.instances[0])return r(window.ATInternet.Tracker.instances).getContext(e);if(window.ATInternet.Tracker.Tag&&window.ATInternet.Tracker.Tag.prototype.instances[0])return r(window.ATInternet.Tracker.Tag.prototype.instances).getContext(e)}return null},r=function(e){return e[e.length-1]};return{getParamsFromTag:e}},Tools=function(){var e=function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)},t=function(e){return JSON.parse(JSON.stringify(e))},n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(e){return e.getFullYear()+\\&quot;-\\&quot;+a(e.getMonth()+1)+\\&quot;-\\&quot;+a(e.getDate())},a=function(e){return 10>e?\\&quot;0\\&quot;+e.toString():e};return{getDocumentHeight:e,clone:t,getDayFromToday:n,convertDateToString:i}}(),Colors=function(){function e(){return i+=1,a[n(i,10)]}function t(e){return a[n(e,10)]}function n(e,t){return e-Math.floor(e/t)*t}var i=0,a=[\\&quot;rgb(105, 163, 216)\\&quot;,\\&quot;rgb(156, 126, 190)\\&quot;,\\&quot;rgb(255, 198, 24)\\&quot;,\\&quot;rgb(91, 179, 203)\\&quot;,\\&quot;rgb(127, 181, 90)\\&quot;,\\&quot;rgb(42, 110, 145)\\&quot;,\\&quot;rgb(197, 74, 61)\\&quot;,\\&quot;rgb(248, 120, 24)\\&quot;,\\&quot;rgb(108, 86, 133)\\&quot;,\\&quot;rgb(93, 130, 69)\\&quot;];return{getNextBGColor:e,getBGColor:t}}(),loginCtrl=function(){var e,t=function(t,i,a,o,r){e=t,e.$().append(artoo.templates[\\&quot;src\\templateslogin.tpl\\&quot;]);var s=a.getCurrentUserToken();\\&quot;\\&quot;!==s&&o(s),e.$(\\&quot;#btn-close-login\\&quot;).bind(\\&quot;click\\&quot;,function(){try{e.kill()}catch(t){}}),e.$(\\&quot;#btnLogin\\&quot;).click(function(){var t=e.$(\\&quot;#email\\&quot;).val(),i=e.$(\\&quot;#password\\&quot;).val(),s=e.$(\\&quot;#chkKeepConnected\\&quot;).prop(\\&quot;checked\\&quot;);n(a,t,i,function(e){s&&a.keepUserConnected(t,e),o(e)},function(e){r(e)})})},n=function(e,t,n,i,a){e.getToken(t,n,function(e){i(e)},function(e){a(e)})},i=function(t){e.$(\\&quot;#loginMessage\\&quot;).text(t)},a=function(){e.$(\\&quot;.widget-login\\&quot;).remove()};return{initialize:t,hide:a,showMessage:i}}(),mainCtrl=function(){var e,t,n=[],i=[],a=function(a,r,s,l){e=a,t=r,i.push({baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={d_site,m_visits}&sort={-m_visits}#evo#\\&quot;,drawer:new LineDrawer(t,e.$(\\&quot;#placeHolder1\\&quot;))},{baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={d_source,m_visits}&sort={-m_visits}&max-results=10\\&quot;,drawer:new PieDrawer(t,{type:\\&quot;doughnut\\&quot;,title:\\&quot;Referrers\\&quot;},e.$(\\&quot;#placeHolder2\\&quot;))},{baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={m_page_loads,m_visits}&sort={-m_visits}\\&quot;,drawer:new SummaryDrawer(t,{title:\\&quot;Summary:\\&quot;},e.$(\\&quot;#placeHolder3\\&quot;))}),e.$(\\&quot;#btn-close\\&quot;).bind(\\&quot;click\\&quot;,function(){try{n.forEach(function(e){e()}),e.kill()}catch(t){}}),e.$(\\&quot;#btn-disconnect\\&quot;).bind(\\&quot;click\\&quot;,function(){s.disconnectUser(),n.forEach(function(e){e()}),e.kill()}),e.$(\\&quot;#btn-hide,#minimized-logo\\&quot;).bind(\\&quot;click\\&quot;,function(){e.$(\\&quot;#widget-container\\&quot;).toggleClass(\\&quot;minimized\\&quot;)}),s.isConnectionKept()||e.$(\\&quot;#btn-disconnect\\&quot;).hide();var c=new TagScrapper,d=c.getParamsFromTag(),p=\\&quot;\\&quot;,u=function(t,n,i,a,o){var r=\'<div class=\\&quot;custom-chip custom-chip-enable\\&quot; id=\\&quot;chip-#name#\\&quot; title=\\&quot;#title#\\&quot;>#name##separator# #value#\';r+=\\&quot;</div>\\&quot;,r=r.replace(\\&quot;#title#\\&quot;,i),r=r.replace(/#name#/g,t),r=r.replace(/#separator#/g,n),i.length>25&&(i=i.substring(0,22)+\\&quot;...\\&quot;),r=r.replace(\\&quot;#value#\\&quot;,i);var s=e.$(\\&quot;#chip-container\\&quot;);s.append(r);var l=e.$(\\&quot;#chip-\\&quot;+t);a&&o?l.bind(\\&quot;click\\&quot;,function(){l.hasClass(\\&quot;custom-chip-enable\\&quot;)?(l.removeClass(\\&quot;custom-chip-enable\\&quot;).addClass(\\&quot;custom-chip-disable\\&quot;),x(o,\\&quot;off\\&quot;)):(l.removeClass(\\&quot;custom-chip-disable\\&quot;).addClass(\\&quot;custom-chip-enable\\&quot;),x(o,\\&quot;on\\&quot;))}):l.addClass(\\&quot;custom-chip-readonly\\&quot;)},g=d.site||d.level2.site,f=d.level2?d.level2.level2:null,m=new ApiCaller(t),h=new SiteInfos(m,{Authorization:\\&quot;Token \\&quot;+l}),v=[],w=function(){i.forEach(function(e){e.onClose=o,e.token=l,e.scrapperParams=Tools.clone(d);var t=new PlaceHolderCtrl(e);v.push(t)})},b=function(e){v.forEach(function(t){t.refresh(e)})},x=function(e,t){if(\\&quot;\\&quot;===p&&(p=Tools.clone(d)),\\&quot;off\\&quot;===t)if(\\&quot;today\\&quot;===e.toLowerCase()){var n=Tools.convertDateToString(Tools.getDayFromToday(-7)),i=Tools.convertDateToString(Tools.getDayFromToday(-1));p.period=\\&quot;{D:{start:\'\\&quot;+n+\\&quot;\',end:\'\\&quot;+i+\\&quot;\'}}\\&quot;,p.evo=\\&quot;{D}\\&quot;}else\\&quot;level2.level2\\&quot;!==e?delete p[e]:(p.site=p.level2.site,delete p.level2);else\\&quot;today\\&quot;===e.toLowerCase()?(p.period=\\&quot;{R:{D:0}}\\&quot;,p.evo=\\&quot;{H}\\&quot;):\\&quot;level2.level2\\&quot;!==e?p[e]=d[e]:(p.level2=d.level2,delete p.site);b(p)};h.getSiteInfos(g,f,function(e){for(var t in d)if(d.hasOwnProperty(t))if(\\&quot;object\\&quot;==typeof d[t]){var n=d[t];for(var i in n)n.hasOwnProperty(i)&&u(i,\\&quot;:\\&quot;,e[i]||n[i],\\&quot;site\\&quot;!==i,t+\\&quot;.\\&quot;+i)}else u(t,\\&quot;:\\&quot;,e[t]||d[t],!0,t)}),u(\\&quot;today\\&quot;,\\&quot;\\&quot;,\\&quot;\\&quot;,!0,\\&quot;today\\&quot;),w()},o=function(e){n.push(e)};return{initialize:a,onClose:o}}(),PlaceHolderCtrl=function(e){var t=e.drawer,n=e.scrapperParams,i=new QueryGenerator(e.baseQuery),a=new ApiCaller($),o=function(e){var n=i.getQuery(e);t&&t.clear(),r(n)},r=function(n){t.showWait(),a.call(n,{Authorization:\\&quot;Token \\&quot;+e.token},function(n){t.draw(n,e.container),t.hideWait()},function(e){console.log(e),t.hideWait(),Notif.error(JSON.parse(e.responseText).ErrorMessage)})};o(n);var s=function(e){o(e)};return{refresh:s}};(function(e){var t=new artoo.ui({stylesheets:[\\&quot;srccssglobal.css\\&quot;,\\&quot;srccsslogin.css\\&quot;,\\&quot;srccssmain.css\\&quot;]}),n=new ApiCaller(e),i=new Authentication(n);loginCtrl.initialize(t,e,i,function(n){loginCtrl.hide(),t.$().append(artoo.templates[\\&quot;src\\templatesmain.tpl\\&quot;]),mainCtrl.initialize(t,e,i,n),mainCtrl.onClose(function(){})},function(e){console.log(e),Notif.error(JSON.parse(e.responseText).ErrorMessage)})}).call(this,artoo.$);&quot;'},n=!0;if(&quot;object&quot;==typeof this.artoo&&(artoo.settings.reload||(artoo.log.verbose(&quot;artoo already exists within this page. No need to inject him again.&quot;),artoo.loadSettings(t),artoo.exec(),n=!1)),n){var i=document.getElementsByTagName(&quot;body&quot;)[0];i||(i=document.createElement(&quot;body&quot;),document.documentElement.appendChild(i));var a=document.createElement(&quot;script&quot;);console.log(&quot;artoo.js is loading...&quot;),a.src=&quot;//medialab.github.io/artoo/public/dist/artoo-latest.min.js&quot;,a.type=&quot;text/javascript&quot;,a.id=&quot;artoo_injected_script&quot;,a.setAttribute(&quot;settings&quot;,JSON.stringify(t)),i.appendChild(a)}}).call(this);">
           <img class="imgBookmarklet" alt="AT Internet" width="224" height="183" src="logo.png">
    </a>
    <img class="imgDrag" alt="drag-indicator" src="drag.png">
</p>

</body>
</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AT BookMarklet</title>
    <link id='ico' rel='shortcut icon' href='AT.ico' />
    <style>
        .imgBookmarklet {
            width: 224px;
            height: 183px;
        }
        .imgDrag {
            position: absolute;
            margin-left: 10px;
            width: 200px;
            margin-top: -30px;
        }
    </style>
</head>
<body>

<p align="center">
    <br />
    <a href="javascript: (function(t){var e={reExec:!0,dependencies:[{name:&quot;notify&quot;,url:&quot;//cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.js&quot;,globals:[&quot;notify&quot;]},{name:&quot;Chart&quot;,url:&quot;//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.js&quot;,globals:[&quot;Chart&quot;]}],eval:'&quot;(function(){artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]=\'<div class=\\&quot;loading-container\\&quot;><div class=\\&quot;loader loader-top100\\&quot;></div></div><div class=\\&quot;canvas-container\\&quot;><canvas class=\\&quot;graph-container\\&quot; /></div>\'}).call(this),function(){artoo.templates[\\&quot;src\\templateslogin.tpl\\&quot;]=\'<div class=\\&quot;widget-login z-depth-5\\&quot;  id=\\&quot;widget-container-login\\&quot;><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.css\\&quot;; </style><nav class=\\&quot;widget-navbar grey darken-3\\&quot; id=\\&quot;login-logo\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a target=\\&quot;_blank\\&quot; href=\\&quot;https://apps.atinternet-solutions.com\\&quot; class=\\&quot;brand-logo\\&quot;><img title=\\&quot;\\&quot; class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws-dev.atinternet-solutions.com/Images/at_internet.png\\&quot;></img><span class=\\&quot;widget-logo-content grey-text text-lighten-1\\&quot;>AT Internet Bookmarklet</span></a><button type=\\&quot;button\\&quot; class=\\&quot;right btn-close btn-header\\&quot; title=\\&quot;close\\&quot; id=\\&quot;btn-close-login\\&quot;>x</button></div></nav><div class=\\&quot;row\\&quot;><form class=\\&quot;col s12\\&quot;><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s8 offset-s2\\&quot;><input id=\\&quot;email\\&quot; type=\\&quot;email\\&quot; class=\\&quot;validate labelForm\\&quot;></input><label class=\\&quot;active labelForm\\&quot; for=\\&quot;email\\&quot;>Email</label></div></div><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s8 offset-s2\\&quot;><input id=\\&quot;password\\&quot; type=\\&quot;password\\&quot; class=\\&quot;validate labelForm\\&quot;></input><label class=\\&quot;active labelForm\\&quot; for=\\&quot;password\\&quot;>Password</label></div></div><div class=\\&quot;row\\&quot;><div class=\\&quot;input-field col s5 offset-s1 form-font\\&quot;><input type=\\&quot;checkbox\\&quot; id=\\&quot;chkKeepConnected\\&quot; /><label for=\\&quot;chkKeepConnected\\&quot;>keep connected</label></div><div class=\\&quot;input-field col s5 right-align form-font\\&quot;><a class=\\&quot;waves-effect waves-light btn\\&quot; id=\\&quot;btnLogin\\&quot;>Login</a></div></div><div class=\\&quot;row center-align\\&quot;><label id=\\&quot;loginMessage\\&quot; class=\\&quot;red-text\\&quot;></label></div></form></div></div>\'}.call(this),function(){artoo.templates[\\&quot;src\\templatesmain.tpl\\&quot;]=\'<div class=\\&quot;widget-main z-depth-5\\&quot; id=\\&quot;widget-container\\&quot;><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.css\\&quot;; </style><style> @import \\&quot;//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css\\&quot;; </style><nav class=\\&quot;widget-navbar grey darken-3 minimized-content pointer\\&quot; id=\\&quot;minimized-logo\\&quot; title=\\&quot;show\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a class=\\&quot;brand-logo\\&quot;><img class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws.atinternet-solutions.com/Images/at_internet.png\\&quot;/></a></div></nav><div class=\\&quot;full-size maximized-content\\&quot;><nav class=\\&quot;widget-navbar grey darken-3\\&quot; id=\\&quot;maximized-nav\\&quot;><div class=\\&quot;nav-wrapper\\&quot;><a target=\\&quot;_blank\\&quot; href=\\&quot;https://apps.atinternet-solutions.com\\&quot; class=\\&quot;brand-logo\\&quot;><img id=\\&quot;mainLogo\\&quot; class=\\&quot;widget-logo-content\\&quot; src=\\&quot;//static-aws.atinternet-solutions.com/Images/at_internet.png\\&quot;/><span id=\\&quot;mainTitle\\&quot; class=\\&quot;widget-logo-content grey-text text-lighten-1\\&quot;>AT Internet Bookmarklet</span></a><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header\\&quot; title=\\&quot;close\\&quot; id=\\&quot;btn-close\\&quot;>x</button><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header\\&quot; title=\\&quot;hide\\&quot; id=\\&quot;btn-hide\\&quot;>-</button><button type=\\&quot;button\\&quot; class=\\&quot;right btn-header btn-link\\&quot; title=\\&quot;Sign-out (clear your credentials)\\&quot; id=\\&quot;btn-disconnect\\&quot;> Sign-out </button></div></nav><div class=\\&quot;time-filter\\&quot;><span class=\\&quot;span-filter-left\\&quot;>Today</span><label class=\\&quot;switch\\&quot;><input id=\\&quot;switchTime\\&quot; type=\\&quot;checkbox\\&quot; class=\\&quot;switch__input\\&quot;><div class=\\&quot;switch__toggle\\&quot;></div></label><span class=\\&quot;span-filter-right\\&quot;>Last 7 days</span></div><div class=\\&quot;chip-container\\&quot; id=\\&quot;chip-container\\&quot;></div><div class=\\&quot;placeHolder100\\&quot; id=\\&quot;placeHolder1\\&quot;></div><div class=\\&quot;placeHolder50\\&quot; id=\\&quot;placeHolder2\\&quot;></div><div class=\\&quot;placeHolder_Summary_50\\&quot; id=\\&quot;placeHolder3\\&quot;></div><div class=\\&quot;placeHolder_Summary_50\\&quot; id=\\&quot;placeHolder4\\&quot;></div></div></div>\'}.call(this),function(){artoo.templates[\\&quot;src\\templatessummary.tpl\\&quot;]=\'<div class=\\&quot;loading-container\\&quot;><div class=\\&quot;loader loader-top50\\&quot;></div></div><div class=\\\\\'summary-container\\\\\'></div>\'}.call(this),function(){artoo.stylesheets[\\&quot;srccssglobal.css\\&quot;]=\\&quot;.widget-navbar {/*cursor:move;*/}.widget-navbar *{font-size:20px !important;}.widget-logo-content {display: inline-block;vertical-align: middle;margin-left: 10px;}.switch {position: relative;display: inline-block;vertical-align: top;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;-webkit-background-clip: padding-box;background-clip: padding-box;position: relative;overflow: hidden;font-size: 17px;padding: 0 20px;border: none;overflow: visible;width: 51px;height: 32px;z-index: 0;text-align: left;}.switch__input {position: absolute;overflow: hidden;right: 0px;top: 0px;left: 0px;bottom: 0px;padding: 0;border: 0;opacity: 0.001;z-index: 1;vertical-align: top;outline: none;width: 100%;height: 100%;margin: 0;-webkit-appearance: none;appearance: none;width: 51px;height: 44px;margin-top: -6px;top: 0px;left: 0px;-webkit-transition: all 0.2s linear;-moz-transition: all 0.2s linear;-o-transition: all 0.2s linear;transition: all 0.2s linear;}.switch__toggle {background-color: #5198db;position: absolute;top: 0px;left: 0px;right: 0px;bottom: 0px;-webkit-border-radius: 30px;border-radius: 30px;-webkit-transition-property: all;-moz-transition-property: all;-o-transition-property: all;transition-property: all;-webkit-transition-duration: 0.35s;-moz-transition-duration: 0.35s;-o-transition-duration: 0.35s;transition-duration: 0.35s;-webkit-transition-timing-function: ease-out;-moz-transition-timing-function: ease-out;-o-transition-timing-function: ease-out;transition-timing-function: ease-out;}.switch__toggle:before {-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;-webkit-background-clip: padding-box;background-clip: padding-box;position: absolute;content: \'\';-webkit-border-radius: 28px;border-radius: 28px;height: 28px;width: 28px;background-color: #fff;left: 2px;top: 2px;-webkit-transition-property: all;-moz-transition-property: all;-o-transition-property: all;transition-property: all;-webkit-transition-duration: 0.35s;-moz-transition-duration: 0.35s;-o-transition-duration: 0.35s;transition-duration: 0.35s;-webkit-transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1);-moz-transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1);-o-transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1);transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1);}.switch__input:checked + .switch__toggle {background-color: #5198db;}.switch__input:checked + .switch__toggle:before {-webkit-transform: translateX(18px);-moz-transform: translateX(18px);-ms-transform: translateX(18px);-o-transform: translateX(18px);transform: translateX(18px);}.switch__input:not(:checked) + .switch__toggle:before {-webkit-transform: translateX(0px);-moz-transform: translateX(0px);-ms-transform: translateX(0px);-o-transform: translateX(0px);transform: translateX(0px);}.switch__input:disabled + .switch__toggle {opacity: 0.3;cursor: default;pointer-events: none;}/*Custom settings*/.switch {width: 40px;height: 20px;cursor: pointer;}.switch__toggle:before {height: 16px;width: 18px;}\\&quot;}.call(this),function(){artoo.stylesheets[\\&quot;srccsslogin.css\\&quot;]=\\&quot;.widget-login *{font-size:12px;}.labelForm {font-size:12px !important;}#widget-container-login {position:absolute;top:10px;right:10px;width:400px;height:260px;z-index:1000000;background:white;overflow:hidden;font-family:Arial;}.widget-login .row {margin-bottom: 0px;margin-top: 5px;}.widget-login input {margin:0 !important;height:25px !important;}.widget-login .input-field{margin-top:20px !important;}.widget-login .form-font * {font-size:12px;}.widget-login .resetAll {all: initial;}.input-field label.active {font-size: 1rem;}\\&quot;}.call(this),function(){artoo.stylesheets[\\&quot;srccssmain.css\\&quot;]=\\&quot;.widget-main * {font-size: 12px;}.widget-main {position: absolute;top: 10px;right: 10px;width: 800px;height: 620px;z-index: 1000000;background: white;overflow: hidden;font-family: Arial;}.card-title {font-size: 18px !important;}.result-container, .full-size {width: 100%;height: 100%;}.result-container .card-content {height: 100%;padding-top: 0 !important;}.graph-container {}.parent-graph-container {width: 100%;height: 100%;text-align: center;}.preloader-wrapper {width: 25px !important;height: 25px !important;margin-left: 20px;}.btn-header {color: #FFF;opacity: .6;padding: 0;cursor: pointer;background: 0 0;border: 0;font-size: 21px !important;font-weight: 700;line-height: 1;margin-top: 20px;margin-right: 20px;}.btn-link {font-size: 15px !important;margin-top: 23px;}.minimized-content {display: none;cursor: pointer !important;}.minimized .minimized-content {display: block;}.minimized .maximized-content {display: none;}.widget-main.minimized {width: 54px;height: 64px;}.pointer {cursor: pointer;}.toggle-background {width: 34px;height: 18px;background-color: white !important;float: left;border: 1px solid rgb(84, 131, 174);-webkit-border-radius: 18px 18px 18px 18px;-moz-border-radius: 18px 18px 18px 18px;border-radius: 18px 18px 18px 18px;position: relative;margin-left: 10px;margin-top: 17px;}.toggle-switch {width: 16px;height: 16px;background-color: #009bd9;-webkit-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;position: absolute;-moz-transition: all 0.2s;-webkit-transition: all 0.2s;-ms-transition: all 0.2s;-o-transition: all 0.2s;transition: all 0.2s;left: 0;}.toggle-switch.toggle-switched-right {left: 16px;}.chip {margin-right: 10px;}.chip .btn-header {color: black;margin-left: 5px;margin-top: 5px;}.graph-header {width: 100%;height: 40px;display: none;}.card {margin: 0 !important;}.input-field label {top: 0.5rem !important;}.tab-data {margin: 10px;clear: both;}.switch-container {display: flex;flex-direction: row;align-items: flex-end;display: none;}.placeHolder50 {float: left;width: 50%;height: 250px;overflow: hidden;}.placeHolder100 {float: left;width: 100%;height: 250px;overflow: hidden;}.placeHolder_Summary_50 {float: left;width: 50%;overflow: hidden;}.time-filter {clear: both;float: left;overflow: hidden;padding: 5px;margin: 0px 10px 0px 10px;}.time-filter .span-filter-left {margin-right: 5px;line-height: 20px;}.time-filter .span-filter-right {margin-left: 5px;line-height: 20px;}.chip-container {float: left;height: 30px;overflow: hidden;padding: 5px;}.summary-container {margin-top: 30px;margin-left: 100px;}.summary-title {font-size: 14px !important;font-weight: bold;}.summary-element {clear: both;float: left;margin-top: 10px;margin-left: 20px;text-align: left;width: 100%;}.summary-label{font-size: 12px !important;}.loading-container {display: none;}.loader {border: 4px solid #f3f3f3; /* Light grey */border-top: 4px solid #3498db; /* Blue */border-radius: 50%;width: 30px;height: 30px;animation: spin 1s linear infinite;position: absolute;}.placeHolder100 .loader {left: 0;right: 0;margin-left: auto;margin-right: auto;}.placeHolder50 .loader {left: 0;right: 0;margin-left: 25%;margin-right: auto;}.placeHolder_Summary_50 .loader {left: 0;right: 0;margin-left: auto;margin-right: 25%;}.loader-top50 {margin-top: 50px;}.loader-top100 {margin-top: 100px;}@keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); }}.custom-chip {display: inline-block;height: 20px;font-size: 13px;font-weight: 500;color: rgba(0, 0, 0, 0.6);line-height: 20px;padding: 0 12px;border-radius: 12px;background-color: #ffffff;margin-right: 5px;cursor: pointer;}.custom-chip-enable {background-color: #0090ca;color: white;}.custom-chip-disable {background-color: #e4e4e4;color: #a5a4a4;}.custom-chip-readonly {cursor: default;}.btn-header-chip {color: #FFF;opacity: .6;padding: 0;cursor: pointer;background: 0 0;border: 0;font-size: 21px !important;font-weight: 700;line-height: 1;margin-left:5px;}.canvas-container {padding: 5px;height: 250px;}\\&quot;}.call(this);var ApiCaller=function(t){var e=t,i=function(t,i,n,o){e.ajax({type:\\&quot;GET\\&quot;,url:t,dataType:\\&quot;json\\&quot;,headers:i,success:function(t){n&&n(t)},error:function(t){o&&o(t)}})},n=function(t,e,n,o,a){i(t,n,function(t){i(e,n,function(e){o&&o(t,e)},function(t){a&&a(t)})},function(t){a&&a(t)})};return{call:i,callSequential:n}},Authentication=function(t){var e=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/authentication/authentication/\\&quot;,i=\\&quot;ati_bmk_authentication\\&quot;,n=function(i,n,o,a){var r=btoa(i+\\&quot;:\\&quot;+n);t.call(e,{Authorization:\\&quot;Basic \\&quot;+r},function(t){o&&o(btoa(t.ExpiringToken))},function(t){a&&a(t)})},o=function(t,e){var n={email:t,token:e};localStorage.setItem(i,JSON.stringify(n))},a=function(){localStorage.removeItem(i)},r=function(){var t=JSON.parse(localStorage.getItem(i));return null!==t?t.token:\\&quot;\\&quot;},s=function(){return\\&quot;\\&quot;!==r()};return{getToken:n,keepUserConnected:o,disconnectUser:a,getCurrentUserToken:r,isConnectionKept:s}},LineDrawer=function(t,e){e.append(artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]);var i=e.find(\\&quot;.graph-container\\&quot;),n=e.find(\\&quot;.loading-container\\&quot;),o=null;Chart.defaults.global.defaultColor=\\&quot;rgb(84, 131, 174)\\&quot;,Chart.defaults.global.elements.line.borderColor=\\&quot;rgb(84, 131, 174)\\&quot;;var a=function(t,e){for(var i=[],n=0;n<t.Rows.length;n++){var o=t.Rows[n];i.push(o[e])}return i},r=function(t){return 10>t?\\&quot;0\\&quot;+t.toString():t},s=function(t){var e=[];return t.forEach(function(t){var i,n=new Date(t);i=r(n.getUTCHours())+\\&quot;:\\&quot;+r(n.getUTCMinutes()),e.push(i)}),e},l=function(t){var e=[],i=[],n=t.DataFeed[0];if(!n.Rows[0])return{labels:[],datas:[]};for(var o=n.Rows[0].Rows,r=\\&quot;evo_hour_visit\\&quot;,l=0;l<n.Columns.length;l++){var c=n.Columns[l];\\&quot;Metric\\&quot;===c.Category?i=i.concat(a(o,c.Name)):0===c.Name.indexOf(\\&quot;evo_\\&quot;)&&(r=c.Name)}return e=\\&quot;evo_hour_visit\\&quot;==r?s(a(o,r)):a(o,r),{labels:e,datas:i}},c=function(t,e,i){Array.prototype.push.apply(t.DataFeed[0].Rows[0].Rows.Rows,e.DataFeed[0].Rows[0].Rows.Rows),d(t,i)},d=function(t){var e=l(t);o?(o.data.labels=[],o.data.datasets[0].data=[],e.labels.forEach(function(t,e){o.data.labels[e]=t}),e.datas.forEach(function(t,e){o.data.datasets[0].data[e]=t}),o.update(2e3)):o=new Chart(i,{type:\\&quot;line\\&quot;,data:{labels:e.labels,datasets:[{label:\\&quot;# of visits\\&quot;,data:e.datas}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},fill:!1}})},p=function(){n.show()},u=function(){n.hide()},g=function(){};return{draw:d,mergeAndDraw:c,clear:g,showWait:p,hideWait:u}},Notif=function(){var t=!0,e=function(){t&&(jQuery(\\&quot;.notifyjs-corner\\&quot;).css(\\&quot;z-index\\&quot;,\\&quot;2000000\\&quot;),t=!1)},i=function(t){jQuery.notify(t,\\&quot;info\\&quot;),e()},n=function(t){jQuery.notify(t,\\&quot;success\\&quot;),e()},o=function(t){jQuery.notify(t,\\&quot;warning\\&quot;),e()},a=function(t){jQuery.notify(t,\\&quot;error\\&quot;),e()};return{info:i,success:n,warning:o,error:a}}(),PieDrawer=function(t,e,i){i.append(artoo.templates[\\&quot;src\\templateschart.tpl\\&quot;]);var n=i.find(\\&quot;.graph-container\\&quot;),o=i.find(\\&quot;.loading-container\\&quot;),a=null,r=e&&e.type||\\&quot;pie\\&quot;,s=e&&e.title||\\&quot;\\&quot;,l=function(t){for(var e=[],i=[],n=[],o=t.DataFeed[0],a=0;a<o.Rows.length;a++){var r=o.Rows[a];e.push(r[Object.keys(r)[0]]),i.push(r[Object.keys(r)[1]]),n.push(Colors.getBGColor(a))}return{labels:e,datas:i,backgroundColors:n}},c=function(t,e,i){for(var n=\\&quot;\\&quot;,o=\\&quot;\\&quot;,a=t.DataFeed[0].Columns,r=0;r<a.length&&(\\&quot;Dimension\\&quot;===a[r].Category?n=a[r].Name:\\&quot;Metric\\&quot;===a[r].Category&&(o=a[r].Name),\\&quot;\\&quot;==o||\\&quot;\\&quot;==o);r++);var s,l,c=t.DataFeed[0].Rows,p=e.DataFeed[0].Rows;for(s=0;s<c.length;s++)for(l=0;l<p.length;l++)if(p[l][n]===c[s][n]){c[s][o]=p[l][o]+c[s][o];break}var u=!1;for(s=0;s<p.length;s++){for(u=!1,l=0;l<c.length;l++)if(p[s][n]===c[l][n]){u=!0;break}u||c.push(p[s])}c.sort(function(t,e){return t[o]>e[o]?1:e[o]>t[o]?-1:0}),c=c.slice(0,9),d(t,i)},d=function(t){n.empty();var e=l(t);a=new Chart(n,{type:r,data:{labels:e.labels,datasets:[{data:e.datas,backgroundColor:e.backgroundColors}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:\\&quot;bottom\\&quot;,labels:{boxWidth:20,fontSize:9,padding:5}},title:{display:\\&quot;\\&quot;!=s,text:s}}})},p=function(){o.show()},u=function(){o.hide()},g=function(){a&&a.destroy()};return{draw:d,clear:g,showWait:p,hideWait:u,mergeAndDraw:c}},QueryGenerator=function(t,e){var i={level2:\\&quot;space={l2s:{s:#site#,l2:#level2#}}\\&quot;,site:\\&quot;space={s:#site#}\\&quot;,page:\\&quot;filter={d_page:{$eq:\'#page#\'}}\\&quot;,period:\\&quot;period=#period#\\&quot;,evo:\\&quot;evo=#evo#\\&quot;},n=function(e){var n={};o(n,e);var a=t;for(var r in n)if(n.hasOwnProperty(r)&&n[r]&&i[r])if(\\&quot;object\\&quot;==typeof n[r]){var s=n[r],l=i[r];for(var c in s)s.hasOwnProperty(c)&&(l=l.replace(\\&quot;#\\&quot;+c+\\&quot;#\\&quot;,s[c]));l&&(a+=\\&quot;&\\&quot;+l)}else\\&quot;evo\\&quot;===r?a.indexOf(\\&quot;#evo#\\&quot;)>0&&(a=a.replace(\\&quot;#evo#\\&quot;,\\&quot;\\&quot;),a+=\\&quot;&\\&quot;+i[r].replace(\\&quot;#\\&quot;+r+\\&quot;#\\&quot;,n[r])):a+=\\&quot;&\\&quot;+i[r].replace(\\&quot;#\\&quot;+r+\\&quot;#\\&quot;,n[r]);return a.indexOf(\\&quot;period\\&quot;)<0&&(a+=\\&quot;&period={R:{D:0}}\\&quot;),a.indexOf(\\&quot;#evo#\\&quot;)>0&&(a=a.replace(\\&quot;#evo#\\&quot;,\\&quot;&evo={H}\\&quot;)),a},o=function(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return o(i,e),{getQuery:n}},SiteInfos=function(t,e){var i=function(i,n,o){var a=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/site/infos?keys={id:#site#}\\&quot;,r=\\&quot;https://apirest.atinternet-solutions.com/rest/config/v1/site/levels2?keys={siteid:#site#,id:#level2#}\\&quot;,s=a;null!==n&&(s=r.replace(\\&quot;#level2#\\&quot;,n)),s=s.replace(\\&quot;#site#\\&quot;,i),t.call(s,e,function(t){var e={site:\\&quot;\\&quot;,level2:\\&quot;\\&quot;};null!==n?(e.site=t.Site.Label,e.level2=t.Label):e.site=t.Label,o(e)},function(t){o({}),console.log(t)})};return{getSiteInfos:i}},SummaryDrawer=function(t,e,i){i.append(artoo.templates[\\&quot;src\\templatessummary.tpl\\&quot;]);var n=i.find(\\&quot;.summary-container\\&quot;),o=i.find(\\&quot;.loading-container\\&quot;),a=function(t){for(var e=[],i=[],n=t.DataFeed[0],o=0;o<n.Rows.length;o++)for(var a=n.Rows[o],r=Object.keys(a),s=0;s<r.length;s++)e.push(r[s]),i.push(a[Object.keys(a)[s]]);return{labels:e,datas:i}},r=function(t,e,i){s(t,i)},s=function(o){var r=a(o),s=t(\\&quot;<span class=\'summary-title\'>\\&quot;+e.title+\\&quot;</span>\\&quot;);n.append(s),i.append(n);for(var c=0;c<r.labels.length;c++)n.append(\\&quot;<div class=\'summary-element\'><span class=\'summary-label\'>\\&quot;+l(r.labels[c])+\\&quot;: </span><span class=\'summary-label\'>\\&quot;+r.datas[c]+\\&quot;</span></div>\\&quot;)},l=function(t){var e={m_page_loads:\\&quot;Page loads\\&quot;,m_visits:\\&quot;Visits\\&quot;};return e[t]?e[t]:t},c=function(){o.show()},d=function(){o.hide()},p=function(){n.empty()};return{draw:s,mergeAndDraw:r,clear:p,showWait:c,hideWait:d}},TagScrapper=function(){var t=function(){var t={site:e(),page:n()},o=i();if(o){var a=t.page,r=t.site;delete t.site,delete t.page,t.level2={site:r,level2:o},t.page=a}return t},e=function(){return window.xtsite?window.xtsite:a(\\&quot;site\\&quot;)},i=function(){if(window.xtsite)return window.xtn2;var t=r(\\&quot;page\\&quot;);return t&&t.level2?t.level2:a(\\&quot;level2\\&quot;)},n=function(){if(window.xtpage)return window.xtpage;var t=r(\\&quot;page\\&quot;);return t?o(t.chapter1)+o(t.chapter2)+o(t.chapter3)+t.name:null},o=function(t){return t?t+\\&quot;::\\&quot;:\\&quot;\\&quot;},a=function(t){if(window.ATInternet&&window.ATInternet.Tracker){if(window.ATInternet.Tracker.instances&&window.ATInternet.Tracker.instances[0])return s(window.ATInternet.Tracker.instances).getConfig(t);if(window.ATInternet.Tracker.Tag&&window.ATInternet.Tracker.Tag.prototype.instances[0])return s(window.ATInternet.Tracker.Tag.prototype.instances).getConfig(t)}return null},r=function(t){if(window.ATInternet&&window.ATInternet.Tracker&&window.ATInternet.Tracker.Tag){if(window.ATInternet.Tracker.instances&&window.ATInternet.Tracker.instances[0])return s(window.ATInternet.Tracker.instances).getContext(t);if(window.ATInternet.Tracker.Tag&&window.ATInternet.Tracker.Tag.prototype.instances[0])return s(window.ATInternet.Tracker.Tag.prototype.instances).getContext(t)}return null},s=function(t){return t[t.length-1]};return{getParamsFromTag:t}},Tools=function(){var t=function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)},e=function(t){return JSON.parse(JSON.stringify(t))},i=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},n=function(t){return t.getFullYear()+\\&quot;-\\&quot;+o(t.getMonth()+1)+\\&quot;-\\&quot;+o(t.getDate())},o=function(t){return 10>t?\\&quot;0\\&quot;+t.toString():t};return{getDocumentHeight:t,clone:e,getDayFromToday:i,convertDateToString:n}}(),Colors=function(){function t(){return n+=1,o[i(n,10)]}function e(t){return o[i(t,10)]}function i(t,e){return t-Math.floor(t/e)*e}var n=0,o=[\\&quot;rgb(105, 163, 216)\\&quot;,\\&quot;rgb(156, 126, 190)\\&quot;,\\&quot;rgb(255, 198, 24)\\&quot;,\\&quot;rgb(91, 179, 203)\\&quot;,\\&quot;rgb(127, 181, 90)\\&quot;,\\&quot;rgb(42, 110, 145)\\&quot;,\\&quot;rgb(197, 74, 61)\\&quot;,\\&quot;rgb(248, 120, 24)\\&quot;,\\&quot;rgb(108, 86, 133)\\&quot;,\\&quot;rgb(93, 130, 69)\\&quot;];return{getNextBGColor:t,getBGColor:e}}(),loginCtrl=function(){var t,e=function(e,n,o,a,r){t=e,t.$().append(artoo.templates[\\&quot;src\\templateslogin.tpl\\&quot;]);var s=o.getCurrentUserToken();\\&quot;\\&quot;!==s&&a(s),t.$(\\&quot;#btn-close-login\\&quot;).bind(\\&quot;click\\&quot;,function(){try{t.kill()}catch(e){}}),t.$(\\&quot;#btnLogin\\&quot;).click(function(){var e=t.$(\\&quot;#email\\&quot;).val(),n=t.$(\\&quot;#password\\&quot;).val(),s=t.$(\\&quot;#chkKeepConnected\\&quot;).prop(\\&quot;checked\\&quot;);i(o,e,n,function(t){s&&o.keepUserConnected(e,t),a(t)},function(t){r(t)})})},i=function(t,e,i,n,o){t.getToken(e,i,function(t){n(t)},function(t){o(t)})},n=function(e){t.$(\\&quot;#loginMessage\\&quot;).text(e)},o=function(){t.$(\\&quot;.widget-login\\&quot;).remove()};return{initialize:e,hide:o,showMessage:n}}(),mainCtrl=function(){var t,e,i=[],n=[],o=\\&quot;2016-09-12T11:52\\&quot;,a=function(a,s,l,c){t=a,e=s,n.push({baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={d_site,m_visits}&sort={-m_visits}#evo#\\&quot;,drawer:new LineDrawer(e,t.$(\\&quot;#placeHolder1\\&quot;))},{baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={d_source,m_visits}&sort={-m_visits}&max-results=10\\&quot;,drawer:new PieDrawer(e,{type:\\&quot;doughnut\\&quot;,title:\\&quot;Referrers\\&quot;},t.$(\\&quot;#placeHolder2\\&quot;))},{baseQuery:\\&quot;//apirest.atinternet-solutions.com/data/v2/json/getData?&columns={m_page_loads,m_visits}&sort={-m_visits}\\&quot;,drawer:new SummaryDrawer(e,{title:\\&quot;Summary:\\&quot;},t.$(\\&quot;#placeHolder3\\&quot;))}),t.$(\\&quot;#mainLogo\\&quot;).attr(\\&quot;title\\&quot;,\\&quot;AT Internet BookMarklet - (Build: \\&quot;+o+\\&quot;)\\&quot;),t.$(\\&quot;#btn-close\\&quot;).bind(\\&quot;click\\&quot;,function(){try{i.forEach(function(t){t()}),t.kill()}catch(e){}}),t.$(\\&quot;#btn-disconnect\\&quot;).bind(\\&quot;click\\&quot;,function(){l.disconnectUser(),i.forEach(function(t){t()}),t.kill()}),t.$(\\&quot;#btn-hide,#minimized-logo\\&quot;).bind(\\&quot;click\\&quot;,function(){t.$(\\&quot;#widget-container\\&quot;).toggleClass(\\&quot;minimized\\&quot;)}),l.isConnectionKept()||t.$(\\&quot;#btn-disconnect\\&quot;).hide();var d=new TagScrapper,p=d.getParamsFromTag(),u=\\&quot;\\&quot;,g=function(e,i,n,o,a){var r=\'<div class=\\&quot;custom-chip custom-chip-enable\\&quot; id=\\&quot;chip-#name#\\&quot; title=\\&quot;#title#\\&quot;>#name##separator# #value#\';r+=\\&quot;</div>\\&quot;,r=r.replace(\\&quot;#title#\\&quot;,n),r=r.replace(/#name#/g,e),r=r.replace(/#separator#/g,i),n.length>25&&(n=n.substring(0,22)+\\&quot;...\\&quot;),r=r.replace(\\&quot;#value#\\&quot;,n);var s=t.$(\\&quot;#chip-container\\&quot;);s.append(r);var l=t.$(\\&quot;#chip-\\&quot;+e);o&&a?l.bind(\\&quot;click\\&quot;,function(){l.hasClass(\\&quot;custom-chip-enable\\&quot;)?(l.removeClass(\\&quot;custom-chip-enable\\&quot;).addClass(\\&quot;custom-chip-disable\\&quot;),k(a,\\&quot;off\\&quot;)):(l.removeClass(\\&quot;custom-chip-disable\\&quot;).addClass(\\&quot;custom-chip-enable\\&quot;),k(a,\\&quot;on\\&quot;))}):l.addClass(\\&quot;custom-chip-readonly\\&quot;)},f=p.site||p.level2.site,m=p.level2?p.level2.level2:null,h=new ApiCaller(e),b=new SiteInfos(h,{Authorization:\\&quot;Token \\&quot;+c}),w=[],v=function(){n.forEach(function(t){t.onClose=r,t.token=c,t.scrapperParams=Tools.clone(p);var e=new PlaceHolderCtrl(t);w.push(e)})},x=function(t){w.forEach(function(e){e.refresh(t)})},y=function(e){t.$(\\&quot;#mainTitle\\&quot;).text(e)},k=function(t,e){if(\\&quot;\\&quot;===u&&(u=Tools.clone(p)),\\&quot;off\\&quot;===e)if(\\&quot;today\\&quot;===t.toLowerCase()){var i=Tools.convertDateToString(Tools.getDayFromToday(-7)),n=Tools.convertDateToString(Tools.getDayFromToday(-1));u.period=\\&quot;{D:{start:\'\\&quot;+i+\\&quot;\',end:\'\\&quot;+n+\\&quot;\'}}\\&quot;,u.evo=\\&quot;{D}\\&quot;}else\\&quot;level2.level2\\&quot;!==t?delete u[t]:(u.site=u.level2.site,delete u.level2);else\\&quot;today\\&quot;===t.toLowerCase()?(u.period=\\&quot;{R:{D:0}}\\&quot;,u.evo=\\&quot;{H}\\&quot;):\\&quot;level2.level2\\&quot;!==t?u[t]=p[t]:(u.level2=p.level2,delete u.site);x(u)};t.$(\\&quot;#switchTime\\&quot;).click(function(){\\&quot;\\&quot;===u&&(u=Tools.clone(p));var t=e(this);if(t.is(\\&quot;:checked\\&quot;)){var i=Tools.convertDateToString(Tools.getDayFromToday(-7)),n=Tools.convertDateToString(Tools.getDayFromToday(-1));u.period=\\&quot;{D:{start:\'\\&quot;+i+\\&quot;\',end:\'\\&quot;+n+\\&quot;\'}}\\&quot;,u.evo=\\&quot;{D}\\&quot;}else u.period=\\&quot;{R:{D:0}}\\&quot;,u.evo=\\&quot;{H}\\&quot;;x(u)}),b.getSiteInfos(f,m,function(t){for(var e in p)if(p.hasOwnProperty(e))if(\\&quot;object\\&quot;==typeof p[e]){var i=p[e];for(var n in i)i.hasOwnProperty(n)&&(\\&quot;site\\&quot;!=n.toLowerCase()?g(n,\\&quot;:\\&quot;,t[n]||i[n],\\&quot;site\\&quot;!==n,e+\\&quot;.\\&quot;+n):y(t[n]))}else\\&quot;site\\&quot;!=e.toLowerCase()?g(e,\\&quot;:\\&quot;,t[e]||p[e],!0,e):y(t[e])}),v()},r=function(t){i.push(t)};return{initialize:a,onClose:r}}(),PlaceHolderCtrl=function(t){var e=t.drawer,i=t.scrapperParams,n=new QueryGenerator(t.baseQuery),o=new ApiCaller($),a=function(t){var i=n.getQuery(t);e&&e.clear(),r(i)},r=function(i){e.showWait(),o.call(i,{Authorization:\\&quot;Token \\&quot;+t.token,\\&quot;AT-APP\\&quot;:\\&quot;15\\&quot;},function(i){e.draw(i,t.container),e.hideWait()},function(t){console.log(t),e.hideWait(),Notif.error(JSON.parse(t.responseText).ErrorMessage)})};a(i);var s=function(t){a(t)};return{refresh:s}};(function(t){var e=new artoo.ui({stylesheets:[\\&quot;srccssglobal.css\\&quot;,\\&quot;srccsslogin.css\\&quot;,\\&quot;srccssmain.css\\&quot;]}),i=new ApiCaller(t),n=new Authentication(i);loginCtrl.initialize(e,t,n,function(i){loginCtrl.hide(),e.$().append(artoo.templates[\\&quot;src\\templatesmain.tpl\\&quot;]),mainCtrl.initialize(e,t,n,i),mainCtrl.onClose(function(){})},function(t){console.log(t),Notif.error(JSON.parse(t.responseText).ErrorMessage)})}).call(this,artoo.$);&quot;'},n=!0;if(&quot;object&quot;==typeof this.artoo&&(artoo.settings.reload||(artoo.log.verbose(&quot;artoo already exists within this page. No need to inject him again.&quot;),artoo.loadSettings(e),artoo.exec(),n=!1)),n){var i=document.getElementsByTagName(&quot;body&quot;)[0];i||(i=document.createElement(&quot;body&quot;),document.documentElement.appendChild(i));var o=document.createElement(&quot;script&quot;);console.log(&quot;artoo.js is loading...&quot;),o.src=&quot;//medialab.github.io/artoo/public/dist/artoo-latest.min.js&quot;,o.type=&quot;text/javascript&quot;,o.id=&quot;artoo_injected_script&quot;,o.setAttribute(&quot;settings&quot;,JSON.stringify(e)),i.appendChild(o)}}).call(this);">
           <img class="imgBookmarklet" alt="AT Internet" width="224" height="183" src="logo.png">
    </a>
    <img class="imgDrag" alt="drag-indicator" src="drag.png">
</p>

</body>
</html>